{
  "author": "cleisthenes-alpha",
  "the_new_excerpt": "TLDR: The real TPS of any network will vary drastically, as the size of the\ntransactions also varies drastically. Moreover, different networks have\ndiffering transaction data needs and norms, making this figure largely\nincomparable across blockchains. For now, Cardano has a rough present speed…",
  "original_created_utc": 1614805961,
  "localize": [
    {
      "locale": "zh",
      "the_new_excerpt": "TLDR: 任何网络的真实TPS都会有很大的变化，因为在网络中的大小\n交易也大不相同。此外，不同的网络有\n不同的交易数据需求和规范，使这一数字在很大程度上变得不准确。\n在整个区块链上无可比拟。目前，Cardano的大致现速...",
      "title": "我已经看到了大量关于Cardano的网络速度（TPS）的错误信息。这里是真正的答案，以及重要的考虑，为什么TPS不是任何区块链的网络速度的伟大指标。"
    },
    {
      "locale": "zh-Hant",
      "the_new_excerpt": "TLDR: 任何網絡的真實TPS都會有很大的變化，因爲在網絡中的大小\n交易也大不相同。此外，不同的網絡有\n不同的交易數據需求和規範，使這一數字在很大程度上變得不準確。\n在整個區塊鏈上無可比擬。目前，Cardano的大致現速...",
      "title": "我已經看到了大量關於Cardano的網絡速度（TPS）的錯誤信息。這裏是真正的答案，以及重要的考慮，爲什麼TPS不是任何區塊鏈的網絡速度的偉大指標。"
    }
  ],
  "title": "I have seen a substantial amount of misinformation regarding the network speed (TPS) of Cardano. Here's the real answer, along with important consideration for why TPS is not a great metric of network speed for any blockchain.",
  "created_utc": 1614850541,
  "selftext_html": "<!-- SC_OFF --><div class=\"md\"><p><strong><em>TLDR</em></strong>: The real TPS of any network will vary drastically, as the size of the transactions also varies drastically. Moreover, different networks have differing transaction data needs and norms, making this figure largely incomparable across blockchains. For now, Cardano has a rough present speed cap of about 7 TPS, and anyone telling you Cardano has a network TPS above even 10TPS is talking out of their ass. That said, it&#39;s low specifically because network use is low, and so higher TPS is totally unnecessary. Cardano can scale its potential TPS to current network utilization and current technology relatively simply by changing a single network parameter, which can be adjusted manually now by IOG, or voted on in the future. Thus, they can increase the network speed up into the neighborhood of ~50 TPS almost immediately without expected issues. Longer-term scaling and optimizations really will make a major difference, so saying more is difficult.</p>\n\n<p>---</p>\n\n<p>Let&#39;s begin by talking about the main factors that can influence the number of transactions a modern blockchain network can process per second. The first factor that influences transaction speed is the rate at which these bundles are written and approved by multiple network validators. In Cardano, blocks are written in at an average rate of <a href=\"https://docs.cardano.org/en/latest/explore-cardano/how-are-new-blocks-produced.html\">1 block every 20 seconds</a>. That said, transactions per second then also depends on how many transactions are included in those bundles. The more transactions in each of those bundles, the more transactions are being processed per second.</p>\n\n<p>Things might seem simple up to this point, but this is actually where TPS gets really complicated. Why? Because the number of transactions in a block varies <strong><em>a ton</em></strong>.</p>\n\n<p>To understand this complication, first recognize that most blockchains don&#39;t actually care about <em>number</em> of transactions when processing blocks, they care about the <em>data size</em> of those transactions. At the end of the day, a transaction in a blockchain is just a set of information describing what happened - who sent how much to where? Or in the case of smart contracts, who sent what to where, and what needs to happen as a result? So it&#39;s the case that some transactions take up a lot of data space, while others take up very little.</p>\n\n<p>Most modern blockchains, including Cardano, then choose to set a cap on how much data each block being written can contain in terms of <em>bytes</em>, not in terms of number of transactions. In Cardano, they call this parameter the &quot;maxBlockSize.&quot; This value is a delicate balance: setting the limit too high means that these huge blocks of data can be created every 20 seconds, and these big blocks need to be shared with every single person on the network - so bigger blocks can mean slower uptake, more security vulnerabilities, and potentially more costly storage for transactions overall. Conversely, setting the limit too low means that each block can barely contain any information at all, and the network becomes incapable of handling higher loads of use - leading to network congestion and long transaction delays. So setting any one maxBlockSize (or whatever your network calls it) comes with a number of trade-offs, and it&#39;s a constantly moving target as network usage changes, technology changes (i.e. cost of hard drive space, networking speeds, etc.), and the type of transactions being conducted changes.</p>\n\n<p>Thus, transactions per second relies on how many blocks are being produced (which is easy), but also the average size of each transaction in bytes (which can and will change based on how the network is being used), and the maximum size of each block being produced (which can also change). This is why anyone spouting off TPS figures is probably misguided - <strong>the real TPS of any network will vary drastically, as the size of the transactions also varies drastically</strong>. At best, you can estimate an <em>average maximum TPS</em> for a network, but that is subject to change for a variety of reasons unrelated to the speed of the network.</p>\n\n<p>Moreover, <strong>different networks have differing transaction data needs and norms</strong>, making this figure largely incomparable across blockchains - so it&#39;s not even a good reference metric. Small transaction sizes is not necessarily a good thing, but they do make high TPS values way easier to attain; likewise, big transaction sizes is not necessarily a bad thing, but they make high TPS values almost impossible without suffering from issues like network/propagation latency and blockchain bloat. For example, as <a href=\"/u/StatisticalMan\">u/StatisticalMan</a> helpfully explained, &quot;a Maker DAO vault registration smart contract [on Ethereum] requires 30x the gas (~600,000) as a simple send ETH from wallet A to wallet B transaction (21,000). So if you removed all smart contracts from Ethereum well it could handle a lot more tx per block. It would also be nearly useless... The reason why blocks are full on ETH is because people are doing really interesting complicated things. Decentralized swaps, decentralized lending, collateralized loans, nft creation, decentralized stablecoin minting, decentralized options pools, decentralized crypto mutual funds, etc.&quot; In other words, given the inherent trade-off between TPS and transaction size for many blockchains, a high TPS is not necessarily desirable in and of itself.</p>\n\n<p><strong><em>For now</em></strong>, know that the maxBlockSize of Cardano is set at 65536 bytes (per <a href=\"https://adapools.org/protocol-parameters\">adapools</a>). This is kind of an abstract number, so let&#39;s set some reference points. Looking at the <a href=\"https://explorer.cardano.org/en\">Cardano Explorer</a>, we can see that as of writing, most transactions are somewhere in the neighborhood of 450 bytes on average. Thus, we can fit about 146 average-sized transactions in a single block, for a <strong>rough present speed cap of about 7 TPS</strong> (146 average-sized transactions being processed every 20 seconds). I want to make this super clear: <strong>anyone telling you Cardano has a network TPS above even 10TPS is talking out of their ass</strong> or is just regurgitating abstract theoretical numbers they heard somewhere.</p>\n\n<p>&quot;But wait, that sounds like <strong>absolutely nothing</strong>. I thought Cardano was supposed to be the network of the future?&quot; Yes, remember that I emphasized <strong><em>for now</em></strong>.</p>\n\n<p>First, because maxBlockSize is a network parameter for Cardano, that value can be changed very simply. The responsibility of setting or changing this parameter is currently in the hands of IOG, but once Voltaire and on-chain voting systems are fully developed, the community will be able to propose and vote on changes to this value at any time. This is absolutely <em>critical</em>, and is one of the strengths of Cardano as a network, because it means <strong>we can scale our potential TPS to current network utilization and current technology</strong> (remember from earlier that setting block size is a careful balance). If you look back at the blocks being produced on the <a href=\"https://explorer.cardano.org/en\">Cardano Explorer</a>, you&#39;ll notice that blocks are no where <em>even close</em> to the current maxBlockSize of 65536 - they&#39;re more in the neighborhood of 10000 bytes and below. What this means is that the current network utilization is <em>not at all</em> being capped by the network&#39;s current transaction speed. We simply aren&#39;t even close to hitting the low cap of ~7TPS on a regular basis, and thus setting the maxBlockSize higher right now will just lead to a lot of empty blocks and an unnecessarily data-heavy blockchain overall. But if we <strong>do</strong> start to get to a bottleneck, changing this parameter and <strong>increasing the network speed up into the neighborhood of ~50 TPS can happen almost immediately without an issue</strong> (as reported by <a href=\"https://youtu.be/gpSnyCn2s9U\">IOG engineers running stress tests</a>). It is unclear how much higher we can set the maxBlockSize at present without introducing more latency issues, but 50 is a very reasonable estimate by my figuring, the video linked, and the <a href=\"https://iohk.io/en/research/library/papers/introduction-to-the-design-of-the-data-diffusion-and-networking-for-cardano-shelley/\">in-depth technical paper by IOG</a> (see Table 6 on pg 42).</p>\n\n<p>Second, the average transaction size in bytes is likely to change substantially over time. With the recent release of the Mary update introducing native tokens to the network, transactions may contain more data than before. Once smart contracts are fully deployed on the network via the final Goguen update, a single smart contract transaction may end up being bigger than what we see today for regular transactions. At the same time, Charles and IOG folks have consistently alluded to optimizing how the data in transactions are stored similar to what <a href=\"https://vitalik.ca/general/2021/01/05/rollup.html\">Ethereum has been and is doing</a>. The thinking goes, if you can communicate the same transaction with less data, you can fit more transactions in the same block and increase the TPS of the network almost &quot;for free.&quot; All said, the current average transaction size of 450 bytes is unlikely to hold much longer, and the network will be ready to change and adapt as necessary given the ability to vote on parameters like the maxBlockSize.</p>\n\n<p>Third, there are a variety of future updates to the Cardano protocol that can really change things up and speed the network up even further. The big one to keep an eye on is <a href=\"https://iohk.io/en/blog/posts/2020/03/26/enter-the-hydra-scaling-distributed-ledgers-the-evidence-based-way/\">Hydra</a>, which can radically increase the TPS of the Cardano network theoretically well above 1000 TPS. Even my old skeptical bones has <a href=\"https://np.reddit.com/r/cardano/comments/lbk83x/ouroboros_hydra_constrained_by_l1_tps/glusgth?utm_source=share&amp;utm_medium=web2x&amp;context=3\">calculated a conservative bottom-end</a> for TPS in Hydra at around 2500 TPS at the absolute worst (i.e. in a world where protocol optimizations cap us out at 50 TPS, rather than the big-blue-sky figures Charles Hoskinson tends to toss out at 100-1000+). Thus, once we can&#39;t scale the network to adapt to high usage past adjusting maxBlockSize and optimizing transactions themselves, Hydra can get us <em>well</em> beyond what would likely be necessary. That also ignores any future developments to the protocol that introduce other solutions for scaling - and we have plenty of time between now and then.</p>\n\n<p>So, long as hell post, but hopefully that tells you what you need to know about TPS, Cardano&#39;s network speed, and the potential future for network usage. Would love reactions, pushback, questions, etc. - I&#39;ll do my best to answer.</p>\n\n<p><strong><em>Additional Sources and Further Reading:</em></strong></p>\n\n<ul>\n<li><a href=\"https://iohk.io/en/research/library/papers/introduction-to-the-design-of-the-data-diffusion-and-networking-for-cardano-shelley/\">This paper from IOG on the exact topic of network speed and the trade-offs of higher block sizes</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=gpSnyCn2s9U&amp;feature=youtu.be&amp;ab_channel=IOHK\">This video from IOG engineers on testing network speeds and running TPS benchmarks</a></li>\n<li><a href=\"https://np.reddit.com/r/cardano/comments/lh21a5/someone_help_me_figure_this_out_max_tps_under/\">Me in another post trying to grapple with these stats</a></li>\n<li><a href=\"https://adapools.org/protocol-parameters\">Current network parameters from adapools.io</a></li>\n</ul>\n\n<p><strong>Disclosure</strong>: This post is a <a href=\"https://np.reddit.com/r/Cardano_ELI5/comments/la7ptu/how_many_transactions_per_second_tps_can_cardano/gpkpr97?utm_source=share&amp;utm_medium=web2x&amp;context=3\">lightly adapted version of an answer</a> I wrote for <a href=\"/r/Cardano_ELI5\">r/Cardano_ELI5</a>, a sub at which I am a moderator. Moreover, I have invested in Cardano as part of my portfolio.</p>\n</div><!-- SC_ON -->",
  "score": 210,
  "permalink": "/r/CryptoCurrency/comments/lx4hv1/i_have_seen_a_substantial_amount_of/",
  "subreddit": "CryptoCurrency",
  "id": "lx4hv1",
  "is_self": true,
  "media": null,
  "is_video": false,
  "source_updated_at": 1614937739401
}